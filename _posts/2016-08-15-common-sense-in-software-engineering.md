---
layout: post
title: "我眼中软件工程人员该有的常识"
description: ""
category: "tech"
tags: ["software engineering"]
shortContent: "说起工程人员/团队应该具备哪些“常识”，恐怕每个人都有自己的一本帐。到底什么才算是工程人员的<code>common sense</code>？我之前对于由此产生的问题也是抱怨诸多，但从没想过其中到底有哪些知识点，或者<code>root cause</code>是什么？"
---
{% include JB/setup %}

## 背景 ##

说起工程人员/团队应该具备哪些“常识”，恐怕每个人都有自己的一本帐。到底什么才算是工程人员的`common sense`？我之前对于由此产生的问题也是抱怨诸多，但从没想过其中到底有哪些知识点，或者`root cause`是什么？直到我看到了知乎一篇贴[跟没有常识的人聊天是一种怎样的体验？](https://www.zhihu.com/question/35264845)，里面虽然笑料百出，但也着实让我开始人人真真的想了想，为什么你会觉得他人“没常识”？在我们软件工程中，没有常识会造成什么样的问题？在一个具备“常识”的团队中工作又会是怎样的一种体验？

## 操作系统是不同的 ##

*Windows 与 OSX*

![]({{ BASE_PATH }}/assets/images/sense-win-osx.png)

大家可以看得到，左边是`osx`的`finder`，右边是`windows`的`explorer`，无论从`UI`设计还是功能设置，他们都有很大的不同，譬如：同样是小叉叉，但在两个操作系统上他们功能是有细微差异的。

*IOS 与 Android*

![]({{ BASE_PATH }}/assets/images/sense-Facebook-iOS-Android.png)

>如图，同样是`facebook`的应用，左边是`IOS`版；右边是`Android`版

我曾不止一次看到有人把自己的好恶带到工作中，提了`bug`是“[OSX]应用中点关闭按钮没有完全退出”；"[windows]ctrl + q快捷键不起作用"。大哥，真心的，如果你实在懒得不想去了解两个系统到底有哪些不同，但能不能静下心来听别人说说，至少你得承认操作系统是不同的。

这个问题上，我认为，作为一个软件工程人员，我们应该承认这一点——*操作系统是不同的*。

## Web不只是前端的事儿 ##

### 前后端分离 ###

近年来由各大巨头功能猛推的前后端分离炒得火热，但由此我发现不少滥竽充数于其中，究其原因则是：“都分离了，不关我的事”。下面具体说说我都发现过哪些现象，

1. 分离后，前后端分别部署不同域名下，跨域问题产生，(地位略低下的)前端工程师找到后端要求`cors`支持被回绝，问之、答曰：“不懂、恐有安全隐患，故不予支持”。搞得前端工程师只能各种`jsonp`去绕过跨域问题(也不见得解决所有问题)，可`jsonp`毕竟是有局限的，这里我们不过多深入，各位可以参考[构建public APIs与CORS](https://segmentfault.com/a/1190000000709909)。但我想说的是，食君之禄、忠君之事，既然不懂，为什么不去研究、思考、认真设计以解决问题，盲目回绝前端需求固然显得“牛逼”，但真的是上上之选么？
2. 之前合作过一位后端“大神”，他说自己的API设计扩展性超强，是真正健壮的`restful`接口。于是我请他讲解，其口若悬河道，我的接口直接把前端和数据库打通，你们直接传数据库字段和对应值，我一一帮你录入数据库。当我问及，那会不会被人利用黑我们数据库，导致废数据产生，“大神”鄙夷的看我一眼说，你自己都说是废数据了，业务不通，是不会显示在用户界面里的，怕什么！可我想说的是“大神啊”，坏人可以分分钟干爆你的数据库，这么“透传”真的是扩展性好么？
3. 在前后端分离的数据接口中，对于一个数组字段，没有值的时候到底是返回`null`还是`[]`又成了一个问题，一位强人和我强调他们后端就是要返回`null`，理由是"`java`语言设计了`null`，那么返回`null`就是最好的选择"。于是我又默默的去一边呵呵了。

上面的问题，说白了就是对前后端分离的概念没有深入了解过，仅仅当作了分工层面的东西，并拒绝接受更多的知识填充，于是给无论前端还是后端开发都带来了更多困扰。


### URL ###

![]({{ BASE_PATH }}/assets/images/sense-complex_url.png)

>一个`URL`到底由哪些部分组成，各部分的学名又是什么，我猜你可能已经发现周围有人不知道了。我曾见过两个在讨论`subdomain`问题的人，然而1个多小时过去了，也没什么结果，吵得不可开交。后来我让他们画下自己说的到底是哪个部分，结果发现二人说的所谓`subdomain`根本不是同一个东西。


### 模版引擎 ###

经常看到有朋友问及类似：“`AngularJS`里有模板引擎，我们公司用`Node`做服务端也有模板引擎`ejs`，二者能否混用，如何混用？”，其实这种问题多见于初入门者，不过我还是想问一句，少年，你真的已经搞懂一个`URL`从敲在浏览器地址栏起，到页面最终显示出来，都经历了哪些过程？所谓服务器段渲染，到底渲染了什么？怎么渲染的？不求你研究`node`源码，但工作原理的大概，总还是应该先知道的！所以你可能需要知道[当你输入一个网址的时候，实际会发生什么?](http://www.cnblogs.com/wenanry/archive/2010/02/25/1673368.html)


## 复用 ##

“复用”这个词我们天天见，就像“大宝”一样(年龄暴露)，但复用都有哪些层次，这个问题就有点意思了，我想了想，大概可能有以下几种吧：

* 拷贝、粘贴 － 这应该是最常见，也是最简单粗暴，容易理解的那种了。你写好，我来拷贝、粘贴到我的项目里，复用达成！
* 运行时复用 - 以前网站开发中常见的模式，一个`css`文件，所有的页面样式都在里面；一个`js`文件，所有页面的业务也都在里面。好处是你真的不用关心谁配谁，反正一共就俩文件，坏处也显而易见，当你要优化文件大小时，当你想按需加载时，当你想剔除不必要的代码时，立马让你抓瞎。
* 开发时复用 - 前端圈子里在`browserify`, `webpack`, `rollup`之类打包工具的诞生以后变的异常活跃，你的各种资源都可被定义成“模块”，在开发过程中按需引入，`rollup`甚至还具备了`tree-shaking`这类神一样的优化能力，使得把复用放到开发阶段更显逼格，当然其它好处也不言而喻。


至于你在项目中需要采取哪种复用，这就看你自己的认识和项目本身的需求了，但无论如何，复用真的分不同层次，这点作为软件工程人员你是需要知道的

## 自我驱动 ##

“学而不思则罔，思而不学则殆” － 孔子在2000多年前就讲了学习和思考的关系，我们活在当下，又怎么能超脱！？

我们常常在工作中遇到这样那样的问题，也遇到过人们是这样回答的：“我们的业务非常特别，对于这个功能，无法支持”，我相信世界上有些功能是做不到的。但这种话听多了就会奇怪，我们的业务真的就那么“特殊”么？或者说，你遇到的技术问题，就那么“唯一”么？

其实我想说的是:

![]({{ BASE_PATH }}/assets/images/sense-notspecial.jpg)

但为什么你就是找不到问题的答案呢？总结了一下我多年的工作经历，我发现以下几点是造成“无解”假象的主要原因：

1. 第一名就是不会善用搜索引擎，尤其不会善用[google](https://www.google.com/)。还记得多年前曾带过一个实习生，他说没办法在`servlet`里获取请求的`query`参数，我大惊，于是问他怎么做的，他说不知道怎么做，于是求助于[google](https://www.google.com/)，发现没结果，然后猜测应该是必须引入框架，仅凭`servlet`应该是无法拿到参数的。对话进行到这里我已经开始怀疑他的话了，怎么可能搜不到，这问题真的没有那么`special`，我就问他你怎么搜的，答曰我搜了"i have an issue about retrieving url parameters, which is balabalabala"。也许你可能会笑，但这是我们工作生活中经常遇到的可爱的人，他们真的以为网络的另一头有一个大神正戴着耳机，眉头紧锁的盯着屏幕回答来自世界各地的问题呢(尽管他自己也是个工程师，但仍然会迷信的认为后面有什么我不知道的大招儿)。在使用搜索引擎时，准确的分解、抽象问题，并且使用友好的分词组合是非常重要的手段，也是在人人平等的搜索引擎里，你如何脱引而出的根基
2. 坐井观天一定稳坐第二把交椅，不少朋友对于新知识是深恶痛绝的，他们善于利用已知的(仅有的)知识来解释自己未知的领域，譬如常见的观点有：管他什么声明式还是命令式，我都不关心。我就是要写`$(...).show()/hide()`，多直观的代码啊！你去搞什么`Angular`、`React`、`vue`，弄些什么数据驱动，都是吃饱了撑的。这些框架最后不也都乖乖的做`DOM`处理？与其等框架处理，我自己写了不好么；管他什么模块不模块，我一股脑的写完脚本，最后`concat` -> `minify`一下，不也是一个文件么，乱七八糟的又是`commonjs`、又是`ES6`，还有什么`AMD`，看的头都大。＝＝＝＝＝＝有自信是好事，但在不了解背景，原因的情况下，生硬的拒绝不是高明的表现，或许数据驱动不适合你，但真的了解数据驱动要解决的问题了么？或许模块化不适合你，但你又搞明白了`ES6`是怎么解决循环依赖问题的？`AMD`最早是为什么被提出的？


说实话，没有谁是与生俱来的`the one`，我们大多数时候遇到的业务模型，也没有那么碉堡了的创世首发，不耻下问、兼听则明，只有不断的鼓励自己多学、多看、多听，多想才有机会跻身前列，或者说，起码可以做个对得起自己职业的人。

## 忙碌 !== 高效 ##

下面绝对是张大家相识已久的图，我就不多说了

![]({{ BASE_PATH }}/assets/images/sense-busy.jpg)

>有位朋友是这么评价图里推方轮子的人的，“你永远没法叫醒一个装睡的人”。

对于尸位素餐者，想必也不会来看我这篇牢骚，也就不用给出什么提高的建议了，因为他们“不关心”

但对于团队管理者，以及团队其它成员，你们要注意的是，团队现在的状况，到底是高效率的忙碌，还是使劲推着方轮子在赶路

## 开发 !== PM ##

![]({{ BASE_PATH }}/assets/images/sense-notfit.jpg)

有朋友可能会对该图产生疑惑，其实这里我想说的，软件工程团队讲求合作，合作要求每个人把分内之事做好！

我们常在工程师论坛看到人们抱怨PM的不专业和拍脑袋，总需要开发擦屁股、背黑锅。但话说回来，这个事情真的没有改进空间，没有避免的可能么？

我们先假设工程师说的都是对的，问题就是出在PM身上，那作为一个团队，除了抱怨，你就没有责任帮助他提高么？你可能说PM的专业技能包含好多，我不会怎么帮？但沟通技巧、注意事项总是可以帮的吧？有人又说，PM趾高气扬，即便我想和他说说沟通的注意事项，他也未必听我的。

你看看，是不是正如上图所说，你就和“妈妈”一样，总在为”孩子”过分担忧。那我来讲讲我的亲身经历吧，我经历过一个团队，每次要从PM、设计师那里拿到需求和设计，但是由于PM和设计师的不专业，他们提供的需求里往往仅包含正确逻辑，譬如：一个登录页面，只告诉你用户名、密码都输入正确页面跳转，但没有说，用户名没输入怎么办，输入错误怎么办？密码没输入怎么办，输入错误怎么办？用户名、密码的格式要求是怎样的？这些交互上的其它问题他们都不管了。于是我们的开发就和爱心妈妈一样，自己把可能遇到的问题，以及UI该是怎么样的，全部都开发一遍，然后交给PM/设计师挑，最后留下来他们选中那一款，其余再删掉！我去，这是多大的开发资源消耗啊！团队给我的答复就是，他们不懂，没办法，只能我们做了给他们挑。于是开发进度被拖慢，谁之过？PM说了，开发团队不给力，做的太慢！开发质量不够高，常常一堆冗余代码删也删不干净，因为不知道之前哪个设计待选稿里加的，删除时忘了，谁之过？PM说了，开发团队不给力，多版本处理不当。设计、交互不够好，谁之过？设计师说了，开发团队不给力，做东西东拼西凑还总是错。

我去，这让我想起了东郭先生和狼的故事，我们辛辛苦苦帮你PM、设计师做你们该做的事，完事你们还反咬一口！但仔细想想，问题的原因不是他们坏，而是开发团队模糊了团队之间协作的责任边界，团队协作当然要亲密无间，但这不表示个体之间责任可以混乱。任何角色都应该按质量完成自己分内之事，这里开发团队只要咬死，你的需求缺东西，你的设计不完善，强迫其修正就好了，而不是一味的做老好人。

关心用户体验当然是好的事，但切不可宣兵夺主，过分指导自己不擅长且份外之事

## 自动化测试 ##

说起自动化测试，常常有人会站出来反驳到，反正做不到100%的覆盖率，而且花费时间甚多，何必浪费时间写各种测试用例。
